/* style.css - ÏµúÏ¢Ö ÏïàÏ†ïÌôî Î≤ÑÏ†Ñ */

/* Î≥ÄÏàò ÏÑ§Ï†ï */
:root {
    --gradient-start: #FFC0CB;        /* Light Pink */
    --gradient-end: #ADD8E6;          /* Light Blue */
    --main-text-color: #333333;       
    --h2-underline-color: linear-gradient(to right, #FFC0CB, #ADD8E6); 
    --card-bg: #FFFFFF;               
    --bg-light: #F8F9FA;              
    --shadow-color: rgba(0, 0, 0, 0.1);

    --font-montserrat: 'Montserrat', sans-serif;
    --font-lato: 'Lato', sans-serif;

    --primary-button-bg: linear-gradient(to right, #6a82fb, #fc5c7d); 
    --primary-button-hover-bg: linear-gradient(to right, #4c62e0, #e04461);
    
    --secondary-button-bg: #5a5a5a; 
    --secondary-button-hover-bg: #4a4a4a;

    --mode-button-border: #BBBBBB; 
}

/* Base Styles */
body {
    font-family: var(--font-lato);
    color: var(--main-text-color);
    line-height: 1.6;
    background-color: var(--bg-light);
    margin: 0;
    padding: 0;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

h1, h2, h4 {
    font-family: var(--font-montserrat);
    font-weight: 700;
    color: var(--main-text-color);
}

h2 {
    font-size: 1.8em;
    padding-bottom: 5px;
    margin-bottom: 20px;
    display: inline-block;
    background-image: var(--h2-underline-color);
    background-repeat: no-repeat;
    background-size: 100% 3px;
    background-position: bottom;
}

hr {
    border: none;
    height: 1px;
    background-color: #e0e0e0;
    margin: 40px 0;
}

section {
    padding: 20px 0;
}

/* Header */
header {
    background: var(--primary-button-bg);
    color: white;
    padding: 20px 0;
    box-shadow: 0 2px 4px var(--shadow-color);
    text-align: center;
}

header h1 {
    font-family: 'Jacques Francois', serif;
    font-size: 2.5em;
    margin: 0;
    color: white;
}

header p {
    margin: 5px 0 0;
    font-weight: 300;
}

/* Buttons */
.btn {
    padding: 10px 20px;
    margin: 5px;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    font-family: var(--font-montserrat);
    font-weight: 600;
    transition: background-color 0.3s, transform 0.1s, box-shadow 0.3s;
    text-transform: uppercase;
}

/* Primary Button */
.primary-btn {
    background: var(--primary-button-bg);
    color: white;
    box-shadow: 0 4px 6px var(--shadow-color);
}
.primary-btn:hover {
    background: var(--primary-button-hover-bg);
    transform: translateY(-1px);
    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
}

/* Secondary Button */
.secondary-btn {
    background: var(--secondary-button-bg);
    color: white;
}
.secondary-btn:hover {
    background: var(--secondary-button-hover-bg);
}

/* Model/Mode/Selection Buttons */
.button-group {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
}
.button-group .btn {
    background: var(--card-bg);
    color: var(--main-text-color);
    border: 1px solid var(--mode-button-border);
    padding: 8px 15px;
    font-size: 0.9em;
}
.button-group .btn.active {
    border-color: #6a82fb;
    color: white;
    background: #6a82fb; 
    box-shadow: 0 2px 4px var(--shadow-color);
}
.button-group .btn:not(.active):hover {
    background-color: #eeeeee;
}

/* Mode Switch Buttons */
.mode-selection .btn {
    flex: 1;
    max-width: 200px;
}

/* Analysis Output */
.analysis-output {
    margin-top: 20px;
    padding: 15px;
    background-color: #e6f7ff;
    border: 1px solid #b3e0ff;
    border-radius: 8px;
}
.prediction-item {
    padding: 5px 0;
    border-bottom: 1px dashed #ccebff;
}
.prediction-item:last-child {
    border-bottom: none;
}
.model-info {
    margin-bottom: 20px;
    font-size: 0.9em;
    font-style: italic;
    color: #555;
}

/* Webcam & Image Upload */
#webcam-container {
    width: 400px;
    height: 300px;
    background-color: #000;
    margin: 20px auto;
    border-radius: 10px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-family: var(--font-montserrat);
}
#webcam-container canvas, #webcam-container img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover; 
}

.control-group {
    text-align: center;
    margin-top: 15px;
}

/* Recommendation Area */
.recommendation-card {
    background-color: var(--card-bg);
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 4px 12px var(--shadow-color);
    margin-top: 20px;
}
.recommendation-content h4 {
    color: #6a82fb;
    margin-top: 0;
    border-bottom: 2px solid #e0e0e0;
    padding-bottom: 10px;
}
.summary-text {
    font-style: italic;
    margin-bottom: 20px;
    color: #555;
}

/* Hair Styles Container */
.hair-styles-container {
    display: flex;
    justify-content: space-around;
    gap: 20px;
    margin-top: 20px;
    text-align: center;
}
.style-column {
    flex: 1;
    min-width: 200px;
}
.style-column img {
    width: 100%;
    height: auto;
    max-width: 250px;
    border-radius: 8px;
    margin-bottom: 10px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}
.style-column h5 {
    color: #fc5c7d;
    font-size: 1.1em;
    margin-bottom: 10px;
}

/* Tone Styles Container */
.tone-styles-container {
    display: flex;
    gap: 30px;
    align-items: flex-start;
}
.tone-text-column {
    flex: 2;
}
.tone-image-column {
    flex: 1;
    min-width: 200px;
    text-align: center;
}
.tone-image-column img {
    width: 100%;
    max-width: 300px;
    height: auto;
    border-radius: 8px;
    box-shadow: 0 4px 10px var(--shadow-color);
}
.tone-category {
    margin-bottom: 15px;
    padding: 10px;
    background-color: #f7f7f7;
    border-left: 4px solid #ADD8E6;
    border-radius: 4px;
}
.tone-category h5 {
    color: #333;
    margin-top: 0;
    font-size: 1em;
}

/* ----------------------------------------------------
 * üí° AR Try-On Styles (Critical for Face Tracking)
 * ---------------------------------------------------- */
#ar-container {
    background-color: #fff;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    margin-top: 30px;
    text-align: center;
}
.ar-title {
    color: #fc5c7d;
    font-size: 1.6em;
}
.ar-subtitle {
    margin-bottom: 25px;
    color: #777;
    font-style: italic;
}

/* AR View Wrapper */
#ar-view-and-controls-wrapper {
    display: flex;
    justify-content: center; 
    align-items: flex-start;
    gap: 40px;
    margin-bottom: 25px;
}

/* AR Webcam/Sticker Wrapper - CRITICAL FOR POSITIONING */
#ar-webcam-wrapper {
    position: relative; /* **Ïä§Ìã∞Ïª§ Ïò§Î≤ÑÎ†àÏù¥Ïùò Í∏∞Ï§ÄÏ†ê** */
    width: 400px;
    height: 300px;
    background-color: #000;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
}

/* Webcam Video */
#ar-webcam-video {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    /* ÏõπÏ∫† ÎØ∏Îü¨ÎßÅ (Í±∞Ïö∏ Ìö®Í≥º) */
    transform: scaleX(-1); 
}

/* AR Sticker Overlay - CRITICAL FOR TRACKING */
#ar-sticker-overlay {
    position: absolute; /* **Ïã§ÏãúÍ∞Ñ ÏúÑÏπò Ï°∞Ï†ïÏùÑ ÏúÑÌï¥ ÌïÑÏàò** */
    /* top, left, width, heightÎäî script.jsÏùò arLoop()ÏóêÏÑú Ïã§ÏãúÍ∞ÑÏúºÎ°ú ÌîΩÏÖÄ Îã®ÏúÑÎ°ú ÏÑ§Ï†ïÎê® */
    z-index: 10;
    transform: scaleX(-1); /* ÏõπÏ∫†Í≥º ÎèôÏùºÌïòÍ≤å ÎØ∏Îü¨ÎßÅ */
    pointer-events: none; /* ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏Í∞Ä ÏïÑÎûò ÎπÑÎîîÏò§Î°ú ÌÜµÍ≥ºÎêòÎèÑÎ°ù */
    display: none;
    transition: all 0.05s ease-out; /* Î∂ÄÎìúÎü¨Ïö¥ ÏõÄÏßÅÏûÑÏùÑ ÏúÑÌï¥ Ï∂îÍ∞Ä */
}

/* Color Selection Buttons */
.vertical-group {
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
    min-width: 150px;
}
.color-btn {
    font-size: 1em;
    padding: 10px 15px;
    background-color: #f0f0f0;
    color: var(--main-text-color);
    border: 1px solid #ddd;
}
.color-btn.active {
    background: #6a82fb;
    color: white;
    border-color: #4c62e0;
}

.ar-controls-group {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-top: 15px;
}


/* ----------------------------------------------------
 * Responsive Design (Max-width 768px)
 * ---------------------------------------------------- */
@media (max-width: 768px) {
    .container {
        padding: 10px;
    }
    h2 {
        font-size: 1.5em;
    }
    .button-group {
        flex-direction: column;
    }
    .button-group .btn {
        width: 100%;
        margin: 5px 0;
    }

    /* Webcam/Image container mobile adjustment */
    #webcam-container {
        width: 100%;
        max-width: 400px;
        height: 300px;
        margin: 20px auto;
    }

    /* Recommendation responsive fix */
    .hair-styles-container {
        flex-direction: column; 
        gap: 30px;
    }
    .style-column {
        min-width: 100%;
    }
    
    /* Personal Tone responsive fix */
    .tone-styles-container {
        flex-direction: column; 
        align-items: center;
    }
    .tone-image-column {
        margin-bottom: 15px;
        flex: 0 0 auto;
    }
    .tone-image-column img {
        width: 100%; 
        height: auto; 
        max-width: 300px; 
    }
    .tone-text-column {
        width: 100%;
    }
    
    /* AR Î∑∞ÏôÄ Î≤ÑÌäºÏùÑ ÏÑ∏Î°úÎ°ú Ï†ÑÌôò */
    #ar-view-and-controls-wrapper {
        flex-direction: column; 
        gap: 20px;
        max-width: 100%;
        justify-content: center;
    }
    #ar-webcam-wrapper {
        width: 100%; 
        max-width: 400px;
        height: 300px; /* ÎÜíÏù¥ Í≥†Ï†ï */
        margin: 0 auto;
    }
    
    .vertical-group {
        width: 100%;
        max-width: 400px;
    }
}
